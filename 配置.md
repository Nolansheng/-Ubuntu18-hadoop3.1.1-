# 集群配置
## .准备工作
安装好ubuntu系统，记下每台机器IP地址
把源换成阿里云
基础的安装 vim,

## .环境
操作系统 Ubuntu Server 18.04

Hadoop 版本： Hadoop 3.1.1

jdk版本：jdk-10.0.2_linux_bin.tar.gz

## .将所有节点的IP地址写进“通讯录”
sudo vim /etc/host

## .创建hadoop用户，实现免密登陆

### 创建用户
sudo useradd -m hadoop -s /bin/bash

### 设置密码
sudo passwd hadoop

### 为账号增加管理员权限
sudo adduser hadoop sudo


### 更新系统
sudo apt-get update

### 切换至hadoop账号！！！！
su hadoop

### 安装SSH配置SSH免密登录
sudo apt-get install openssh-server

ssh localhost

首次登录会提示，输入yes，按提示输入密码，即可登录本机

我们需要免密登录。利用ssh-keygen生成密码，把公钥发送到要远程登录的机器上,具体原理见[SSH免密登录原理及配置](https://my.oschina.net/binxin/blog/651565)

exit(退出本地登录）

cd ~/.ssh/

ssh-keygen -t rsa

cat ./id_rsa.pub >> ./authorized_keys #再次尝试登录本地，无需密码验证

sudo apt install ssh pdsh ([pdsh的作用](http://blog.51cto.com/ixdba/1550184))

sudo sh -c "echo ssh > /etc/pdsh/rcmd_default"

ssh-copy-id -i ~/.ssh/id_rsa.pub  hadoopmaster/servera/serverb....
要把公钥发送给所有服务器，实现每两台机器直接都可免密访问！！！







